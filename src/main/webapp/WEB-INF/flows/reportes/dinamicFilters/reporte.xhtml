<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:sf="http://www.springframework.org/tags/faces"
	xmlns:sec="http://www.springframework.org/security/tags"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:deceyec="http://ine.mx/ui" template="/templates/template.xhtml">

	<ui:define name="CONTENT">
		<p:panel id="panel" styleClass="card">
			<h2>Hola mundo!</h2>

			<h:form id="dinamicForm" styleClass="container-fluid">
				<div class="ui-g">
					<c:forEach var="filter"
						items="#{mbDinamic.machine.current.filtros}">
						<c:if test="#{filter.type eq 'CALENDAR'}">
							<div class="ui-g-12 ui-md-12 ui-sm-12">
								<p:outputLabel id="label_calendar_#{filter.id}"
									for="dinamic_calendar_#{filter.id}" value="#{filter.name}" />
								<p:calendar id="dinamic_calendar_#{filter.id}"
									pattern="dd/MM/yyyy" placeholder="dd/MM/yyyy"
									rendered="#{filter.visible}" value="#{filter.value}">
									<p:ajax event="dateSelect"
										listener="#{mbDinamic.machine.actionOn(filter.id)}"
										update="@form"></p:ajax>
								</p:calendar>
							</div>
						</c:if>
						<c:if test="#{filter.type eq 'INPUT_TEXT'}">
							<div class="ui-g-12 ui-md-12 ui-sm-12">
								<div class="md-inputfield">

									<p:inputText id="dinamic_input_text_#{filter.id}"
										rendered="#{filter.visible}" value="#{filter.value}"
										required="true">
										<p:ajax listener="#{mbDinamic.machine.actionOn(filter.id)}"
											update="@form" async="false"></p:ajax>
									</p:inputText>
									<p:outputLabel id="label_input_text_#{filter.id}"
										for="dinamic_input_text_#{filter.id}" value="#{filter.name}" />
								</div>
							</div>
						</c:if>
						<c:if test="#{filter.type eq 'SELECT_ONE_MENU'}">
							<div class="ui-g-4 ui-md-4 ui-sm-12">
								<p:outputLabel for="dinamic_select_one_menu_#{filter.id}"
									value="#{filter.name}" />
								<p:selectOneMenu id="dinamic_select_one_menu_#{filter.id}"
									value="#{filter.value}">
									<f:selectItem itemLabel="Selecciona " itemValue="#{null}" />
									<f:selectItems value="#{filter.data}" var="element"
										itemLabel="#{filter.getLabelOf(element)}" itemValue="#{filter.getValueOf(element)}" />
									<p:ajax event="change"
										listener="#{mbDinamic.machine.actionOn(filter.id)}"
										update="@form" />
								</p:selectOneMenu>
							</div>
						</c:if>
						<c:if test="#{filter.type eq 'SELECT_ONE_RADIO'}">
							<div class="ui-g-4 ui-md-4 ui-sm-12">
								<p:outputLabel for="dinamic_select_one_radio_#{filter.id}"
									value="#{filter.name}" />
								<p:selectOneRadio layout="responsive" columns="2"
									id="dinamic_select_one_radio_#{filter.id}"
									value="#{filter.value}" required="true"
									requiredMessage="#{messageSource['validacion_mensajes_generales_dato_requerido']}">
									<f:selectItems value="#{filter.data}" var="c" itemLabel="#{c}"
										itemValue="#{c}" />
									<p:ajax event="change"
										listener="#{mbDinamic.machine.actionOn(filter.id)}"
										update="@form" />
								</p:selectOneRadio>
							</div>
						</c:if>

					</c:forEach>
				</div>
			</h:form>
		</p:panel>
	</ui:define>
</ui:composition>